(this.webpackJsonptest2=this.webpackJsonptest2||[]).push([[0],{16:function(e,t,n){e.exports=n(30)},21:function(e,t,n){},22:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),s=n(13),l=n.n(s),i=(n(21),n(11)),r=n(14),c=n(3),d=n(4),h=n(2),u=n(6),m=n(5),p=(n(22),n(15)),f=n.n(p),g=n(8),v=n(10),O=(n(28),function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={inputVal:"",listOpen:!1,headerTitle:a.props.title,list:a.props.list,addBtn:a.props.addBtn,noOfRecords:a.props.noOfRecord},a}return Object(d.a)(n,[{key:"handleClickOutside",value:function(){this.setState({listOpen:!1})}},{key:"toggleList",value:function(){this.setState((function(e){return{listOpen:!e.listOpen}}))}},{key:"render",value:function(){var e=this,t=this.props.list,n=this.state,a=(n.inputVal,n.listOpen),s=n.headerTitle,l=(n.noOfRecords,this.props.noOfRecord!=t.length&&t.length>0&&""==this.props.selectedItem);return o.a.createElement("div",{className:"container DropdownBox"},o.a.createElement("div",{onClick:function(){return e.toggleList()}},o.a.createElement("div",{className:"dd-header-title"},s," ",o.a.createElement(g.a,{icon:v.a})),a),a&&o.a.createElement("div",{className:""}," ",o.a.createElement(g.a,{icon:v.b}),o.a.createElement("input",{type:"text",className:"input",value:this.props.selectedItem,onChange:function(t){return e.props.searchItem(t)},placeholder:"Search..."})),this.props.addBtn&&o.a.createElement("div",null,o.a.createElement("p",null,this.props.selectedItem,'" not found'),o.a.createElement("button",{style:{float:"none"},onClick:function(t){return e.props.addItem(t)}},"Add & Select")),a&&o.a.createElement("ul",{className:"dd-list"},t.slice(0,this.props.noOfRecord).map((function(t,n){return o.a.createElement("li",{className:"dd-list-item",key:t.title,onClick:function(){return e.props.toggleItem(t.id,t.key)}},t.title," ",t.selected&&o.a.createElement(f.a,{name:"check"}))})),l&&o.a.createElement("p",{onClick:function(){return e.props.showMoreItems(e.props.noOfRecord)}},this.props.noOfRecord," more...")))}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.list.filter((function(e){return e.selected})).length;return 0===t?{headerTitle:e.title}:1===t?{headerTitle:"".concat(t," ").concat(e.titleHelper)}:void 0}}]),n}(a.Component)),I=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).toggleSelected=e.toggleSelected.bind(Object(h.a)(e)),e.searchHandler=e.searchHandler.bind(Object(h.a)(e)),e.addLocationHandler=e.addLocationHandler.bind(Object(h.a)(e)),e.showMoreHandler=e.showMoreHandler.bind(Object(h.a)(e)),e.state={location:[],filtered:[],addBtn:!1,showItems:5,selectedItem:""},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://run.mocky.io/v3/84a96fac-a9c7-4db4-9f33-5cb99276938b").then((function(e){return e.json()})).then((function(t){console.log("data",t),e.setState({location:t,filtered:t})})).catch(console.log)}},{key:"toggleSelected",value:function(e,t){var n=this.state[t];n[e].selected=!n[e].selected,this.setState(Object(r.a)({},t,n))}},{key:"addLocationHandler",value:function(e){var t=Object(i.a)(this.state.location);console.log("vale new",this.state.selectedItem);var n={id:t.length,title:this.state.selectedItem,selected:!1,key:"location"};t.push(n),this.setState({location:t,filtered:t,showItems:t.length,selectedItem:""}),this.setState((function(e){return{addBtn:!e.addBtn}}))}},{key:"showMoreHandler",value:function(e){console.log("show more",e),console.log("show More ",this.state.filtered),this.setState({showItems:this.state.showItems>=this.state.location.length?this.state.showItems:this.state.location.length})}},{key:"searchHandler",value:function(e){var t=Object(i.a)(this.state.location),n=[],a=e.target.value;if(""!==e.target.value){console.log("string",e.target.value),n=t.filter((function(e){return e.title.toLowerCase().includes(a.toLowerCase())})),this.setState({filtered:n,selectedItem:e.target.value});n.length<1&&this.setState({addBtn:!0,selectedItem:e.target.value})}else this.setState({filtered:t,addBtn:!1,selectedItem:""})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(O,{titleHelper:"Location",title:"Select a location",noOfRecord:this.state.showItems,selectedItem:this.state.selectedItem,list:this.state.filtered,toggleItem:this.toggleSelected,searchItem:this.searchHandler,addItem:this.addLocationHandler,showMoreItems:this.showMoreHandler,addBtn:this.state.addBtn}))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(29);l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.f203176e.chunk.js.map